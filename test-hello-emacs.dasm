;;
;; ~/0x10c/dcpu-el/test-hello-emacs.dasm ---
;;
;; $Id: test-hello-emacs.dasm,v 1.5 2012/04/17 03:54:52 harley Exp $
;;
;; Might need to eval these lines with "C-x C-e":
;;   (load "~/0x10c/dcpu-el/dcpu")
;;   (dasm-mode)
;;
;; Or put this in your .emacs:
;;   (add-to-list 'load-path (file-name-directory (buffer-file-name)))
;;   (autoload 'dasm-mode "dasm-mode")

;; a16 doesnt like these:
;; .file "test-hello-emacs.dasm"
;; .align 2

:start
        set     i,0
:loop
        set     c,[string+i]
        ife     c,0
          set     pc,end
        set     [0x9000+i],c
        add     i,1
        set     pc,loop
:end
        set     pc,end

:padding_to_see
WORD 0xFFFF, 0xFFFF, 0xFFFF

:string ;; Hello Emacs!
WORD 0x0048, 0x0065, 0x006c, 0x006c, 0x006f, 0x0020, 0x0045, 0x006d
WORD 0x0061, 0x0063, 0x0073, 0x0021, 0x0021, 0x0021
WORD 0x0000
